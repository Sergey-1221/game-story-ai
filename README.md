# Game Story AI üéÆ‚ú®

<div align="center">

[üá∑üá∫ –†—É—Å—Å–∫–∏–π](README.md) | [üá¨üáß English](README-EN.md)

AI-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–≥—Ä–æ–≤—ã—Ö –∏—Å—Ç–æ—Ä–∏–π, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã –∏ —Å—é–∂–µ—Ç–Ω—ã–µ –ª–∏–Ω–∏–∏.

![Python](https://img.shields.io/badge/python-3.8+-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![Platform](https://img.shields.io/badge/platform-Windows%20%7C%20Linux%20%7C%20macOS-lightgrey.svg)

</div>

<div align="center">
  <h2>üé¨ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è</h2>
  
  <table>
    <tr>
      <td width="50%" align="center">
        <b>üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</b><br>
        <img src="screenshot/menu.png" alt="Main Menu" width="100%"/>
        <i>–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞</i>
      </td>
      <td width="50%" align="center">
        <b>‚öôÔ∏è –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–≤–µ—Å—Ç–æ–≤</b><br>
        <img src="screenshot/generator-1.png" alt="Quest Generator" width="100%"/>
        <i>–ì–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</i>
      </td>
    </tr>
    <tr>
      <td width="50%" align="center">
        <b>üîÑ –ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</b><br>
        <img src="screenshot/generator-2.png" alt="Generation Process" width="100%"/>
        <i>–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</i>
      </td>
      <td width="50%" align="center">
        <b>üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</b><br>
        <img src="screenshot/stats.png" alt="Statistics" width="100%"/>
        <i>–î–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</i>
      </td>
    </tr>
  </table>
  
  <details open>
  <summary><b>üé≠ –ì–∞–ª–µ—Ä–µ—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ü–µ–Ω</b></summary>
  
  <br>
  
  <table>
    <tr>
      <td width="33%" align="center">
        <img src="screenshot/scenes-1.png" alt="Scene 1" width="100%"/>
        <i>–ù–∞—á–∞–ª—å–Ω–∞—è –ª–æ–∫–∞—Ü–∏—è</i>
      </td>
      <td width="33%" align="center">
        <img src="screenshot/scenes-2.png" alt="Scene 2" width="100%"/>
        <i>–†–∞–∑–≤–∏—Ç–∏–µ —Å—é–∂–µ—Ç–∞</i>
      </td>
      <td width="33%" align="center">
        <img src="screenshot/scenes-3.png" alt="Scene 3" width="100%"/>
        <i>–ö–ª—é—á–µ–≤–æ–π –≤—ã–±–æ—Ä</i>
      </td>
    </tr>
    <tr>
      <td width="33%" align="center">
        <img src="screenshot/scenes-4.png" alt="Scene 4" width="100%"/>
        <i>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—É—Ç—å</i>
      </td>
      <td width="33%" align="center">
        <img src="screenshot/scenes-5.png" alt="Scene 5" width="100%"/>
        <i>–ö—É–ª—å–º–∏–Ω–∞—Ü–∏—è</i>
      </td>
      <td width="33%" align="center">
        <img src="screenshot/scenes-6.png" alt="Scene 6" width="100%"/>
        <i>–§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ü–µ–Ω–∞</i>
      </td>
    </tr>
  </table>
  
  </details>
  
  <details open>
  <summary><b>üéÆ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã</b></summary>
  
  <br>
  
  <table>
    <tr>
      <td width="33%" align="center">
        <img src="screenshot/scenes-interactive-1.png" alt="Interactive 1" width="100%"/>
        <i>–í—ã–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏–π</i>
      </td>
      <td width="33%" align="center">
        <img src="screenshot/scenes-interactive-2.png" alt="Interactive 2" width="100%"/>
        <i>–î–∏–∞–ª–æ–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞</i>
      </td>
      <td width="33%" align="center">
        <img src="screenshot/scenes-interactive-3.png" alt="Interactive 3" width="100%"/>
        <i>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–º</i>
      </td>
    </tr>
  </table>
  
  </details>
  
  <details>
  <summary><b>üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</b></summary>
  
  <br>
  
  - ‚ú® **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω** - –ß–∏—Å—Ç—ã–π –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –±–∞–∑–µ Streamlit
  - üöÄ **–ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** - –õ–µ–≥–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏
  - üìà **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
  - üíæ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–∞–º–∏** - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π
  - üåç **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
  - üé® **–ë–æ–≥–∞—Ç–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** - –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - üîÄ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤—ã–±–æ—Ä–æ–≤ –∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π
  
  </details>
</div>

---

## üåü –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **üé® –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π UI –Ω–∞ Streamlit –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- **ü§ñ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–π —Å –ø–æ–º–æ—â—å—é –ò–ò** - –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∫–≤–µ—Å—Ç–æ–≤ –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π
- **üîÄ –í–µ—Ç–≤—è—â–∏–µ—Å—è –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è** - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—É—Ç–∏ –∏ –≤—ã–±–æ—Ä—ã –¥–ª—è –∏–≥—Ä–æ–∫–∞
- **‚ö° –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Story2Game** - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è–º–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
- **üé≠ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è SceneCraft** - 3D-–º–∞–∫–µ—Ç—ã —Å—Ü–µ–Ω –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **üß† RAG-–æ–±–æ–≥–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∂–∞–Ω—Ä–æ–≤—ã—Ö –∑–Ω–∞–Ω–∏–π –¥–ª—è –±–æ–ª–µ–µ –±–æ–≥–∞—Ç—ã—Ö –∏—Å—Ç–æ—Ä–∏–π
- **üìä –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤** - JSON, Python –∫–æ–¥, —Ñ–æ—Ä–º–∞—Ç—ã Unity/Unreal
- **üåç –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –∏ —Ä—É—Å—Å–∫–∏–µ —è–∑—ã–∫–æ–≤—ã–µ –º–æ–¥–µ–ª–∏
- **üöÄ REST API** - FastAPI –±—ç–∫–µ–Ω–¥ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **üèóÔ∏è –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É—Ä–æ–≤–Ω–µ–π** - WFC, –¥–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏ ML-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- **üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏** - –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

## üéÆ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

<div align="center">
  <table>
    <tr>
      <td align="center" width="25%">
        <h4>1Ô∏è‚É£ –û–ø–∏—à–∏—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–π</h4>
        <p>–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–π –∏—Å—Ç–æ—Ä–∏–∏</p>
      </td>
      <td align="center" width="25%">
        <h4>2Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h4>
        <p>–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å –ò–ò –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</p>
      </td>
      <td align="center" width="25%">
        <h4>3Ô∏è‚É£ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è</h4>
        <p>–ò–ò —Å–æ–∑–¥–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–≤–µ—Å—Ç</p>
      </td>
      <td align="center" width="25%">
        <h4>4Ô∏è‚É£ –†–µ–∑—É–ª—å—Ç–∞—Ç</h4>
        <p>–ü–æ–ª—É—á–∏—Ç–µ –≥–æ—Ç–æ–≤—ã–π –∫–≤–µ—Å—Ç —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π</p>
      </td>
    </tr>
  </table>
</div>

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- OpenAI API –∫–ª—é—á (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- Anthropic API –∫–ª—é—á (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –º–æ–¥–µ–ª–µ–π Claude)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
```bash
git clone https://github.com/Sergey-1221/game-story-ai.git
cd game-story-ai
```

2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**
```bash
# Windows
python -m venv venv
venv\Scripts\activate

# Linux/macOS
python -m venv venv
source venv/bin/activate
```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
```bash
pip install -r requirements.txt

# –°–∫–∞—á–∞–π—Ç–µ —è–∑—ã–∫–æ–≤—ã–µ –º–æ–¥–µ–ª–∏
python -m spacy download ru_core_news_sm
python -m spacy download en_core_web_sm
```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**
```bash
# Windows
copy .env.example .env

# Linux/macOS
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à–∏ API –∫–ª—é—á–∏:
```env
OPENAI_API_KEY=–≤–∞—à-openai-api-–∫–ª—é—á
ANTHROPIC_API_KEY=–≤–∞—à-anthropic-api-–∫–ª—é—á  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**üé® –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```bash
# Windows
run_ui.bat
# –∏–ª–∏
venv\Scripts\streamlit.exe run streamlit_app.py

# Linux/macOS
./run_ui.sh
# –∏–ª–∏
streamlit run streamlit_app.py
```

–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8501 –≤ –±—Ä–∞—É–∑–µ—Ä–µ –¥–ª—è –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ UI.

**üîå API —Å–µ—Ä–≤–µ—Ä**
```bash
# Windows
start_api.bat
# –∏–ª–∏
venv\Scripts\python.exe -m uvicorn src.api.main:app --reload

# Linux/macOS
uvicorn src.api.main:app --reload
```

## üìñ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–≤–µ—Å—Ç–∞

```python
from src.quest_generator import QuestGenerator
from src.core.models import GenerationConfig

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
generator = QuestGenerator()

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
config = GenerationConfig(
    model="gpt-4o-mini",
    temperature=0.7,
    use_rag=True,
    branching_depth=2
)

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–≤–µ—Å—Ç–∞
scenario = "–•—Ä–∞–±—Ä—ã–π —Ä—ã—Ü–∞—Ä—å –¥–æ–ª–∂–µ–Ω —Å–ø–∞—Å—Ç–∏ –ø—Ä–∏–Ω—Ü–µ—Å—Å—É –æ—Ç –¥—Ä–∞–∫–æ–Ω–∞"
quest = await generator.generate(scenario, config)

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
generator.save_quest(quest, "quest.json")
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Story2Game –∏ SceneCraft

```python
from src.modules.integrated_quest_generator import IntegratedQuestGenerator

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
generator = IntegratedQuestGenerator()

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –ø–æ–ª–Ω—ã–º –ø–∞–π–ø–ª–∞–π–Ω–æ–º
result = await generator.generate(
    scenario="–ö–∏–±–µ—Ä–ø–∞–Ω–∫ —Ö–∞–∫–µ—Ä –ø—Ä–æ–Ω–∏–∫–∞–µ—Ç –≤ –º–µ–≥–∞–∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—é",
    config=config
)

# –î–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º –≤—ã—Ö–æ–¥–∞–º
quest_structure = result["quest"]
logic_system = result["logic"]
visualizations = result["visualization"]
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CLI

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–≤–µ—Å—Ç–∞ –∏–∑ —Ñ–∞–π–ª–∞
python main.py --input scenario.txt --output quest.json

# –ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
python main.py --text "–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å –æ–±–Ω–∞—Ä—É–∂–∏–ª –∏–Ω–æ–ø–ª–∞–Ω–µ—Ç–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç" --format json
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–≤–µ—Å—Ç–∞ —á–µ—Ä–µ–∑ API
curl -X POST http://localhost:8000/generate \
  -H "Content-Type: application/json" \
  -d '{
    "scenario": "–†—ã—Ü–∞—Ä—å —Å–ø–∞—Å–∞–µ—Ç –ø—Ä–∏–Ω—Ü–µ—Å—Å—É –æ—Ç –¥—Ä–∞–∫–æ–Ω–∞",
    "config": {
      "model": "gpt-4o-mini",
      "temperature": 0.7
    }
  }'
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ü–∞–π–ø–ª–∞–π–Ω –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

```
–í—Ö–æ–¥–Ω–æ–π —Ç–µ–∫—Å—Ç ‚Üí –ü–∞—Ä—Å–µ—Ä ‚Üí –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–π ‚Üí –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ ‚Üí –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ü–µ–Ω
                                                                            ‚Üì
–í—ã—Ö–æ–¥ ‚Üê –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üê –í–∞–ª–∏–¥–∞—Ü–∏—è ‚Üê –£–ª—É—á—à–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ ‚Üê –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
```

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **InputParser**: –ò–∑–≤–ª–µ–∫–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏—è (–∂–∞–Ω—Ä, –≥–µ—Ä–æ–π, —Ü–µ–ª—å)
- **KnowledgeBase**: RAG —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∂–∞–Ω—Ä–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **StoryPlanner**: –°–æ–∑–¥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–≤–µ—Å—Ç–∞ —Å –≤–µ—Ç–≤–ª–µ–Ω–∏—è–º–∏
- **SceneGenerator**: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è —Å—Ü–µ–Ω
- **Story2GameEngine**: –î–æ–±–∞–≤–ª—è–µ—Ç –∏–≥—Ä–æ–≤—É—é –ª–æ–≥–∏–∫—É (–ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è, —ç—Ñ—Ñ–µ–∫—Ç—ã)
- **SceneCraftVisualizer**: –°–æ–∑–¥–∞–µ—Ç 3D –º–∞–∫–µ—Ç—ã –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- **BranchManager**: –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –∫–≤–µ—Å—Ç–∞
- **OutputFormatter**: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
game-story-ai/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models.py               # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ input_parser.py         # –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ knowledge_base.py       # RAG —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scene_generator.py      # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ü–µ–Ω
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ story2game_engine.py    # –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scenecraft_visualizer.py # 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ integrated_quest_generator.py # –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.py                # FastAPI —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ quest_generator.py         # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ knowledge_base/            # –ñ–∞–Ω—Ä–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –∏ –∫–æ–Ω—Ç–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ chroma/                    # –•—Ä–∞–Ω–∏–ª–∏—â–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î
‚îú‚îÄ‚îÄ examples/                      # –î–µ–º–æ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ tests/                         # –ù–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ streamlit_app.py              # –í–µ–± UI
‚îî‚îÄ‚îÄ requirements.txt              # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## üõ†Ô∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
OPENAI_API_KEY=–≤–∞—à-api-–∫–ª—é—á

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
ANTHROPIC_API_KEY=–≤–∞—à-claude-–∫–ª—é—á
DEFAULT_MODEL=gpt-4o-mini
LOG_LEVEL=INFO
CHROMA_PERSIST_DIRECTORY=./data/chroma
```

### –û–ø—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

```python
config = GenerationConfig(
    model="gpt-4o-mini",          # LLM –º–æ–¥–µ–ª—å
    temperature=0.7,              # –ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å (0-1)
    max_tokens=2000,              # –î–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞
    use_rag=True,                 # –í–∫–ª—é—á–∏—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–π
    branching_depth=2,            # –°–ª–æ–∂–Ω–æ—Å—Ç—å –∫–≤–µ—Å—Ç–∞
    enable_visualization=True,     # –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
    output_format="json"          # –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞
)
```

## üìä –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON –∫–≤–µ—Å—Ç–∞

```json
{
  "title": "–õ–æ–≥–æ–≤–æ –¥—Ä–∞–∫–æ–Ω–∞",
  "genre": "—Ñ—ç–Ω—Ç–µ–∑–∏",
  "hero": {
    "name": "–°—ç—Ä –ì–∞–ª–∞—Ö–∞–¥",
    "class": "–†—ã—Ü–∞—Ä—å"
  },
  "scenes": [
    {
      "id": "scene_1",
      "description": "–í—ã —Å—Ç–æ–∏—Ç–µ –ø–µ—Ä–µ–¥ –ª–æ–≥–æ–≤–æ–º –¥—Ä–∞–∫–æ–Ω–∞...",
      "choices": [
        {
          "text": "–í–æ–π—Ç–∏ –Ω–µ–∑–∞–º–µ—Ç–Ω–æ",
          "next_scene": "scene_2a"
        },
        {
          "text": "–ë—Ä–æ—Å–∏—Ç—å –≤—ã–∑–æ–≤ –¥—Ä–∞–∫–æ–Ω—É",
          "next_scene": "scene_2b"
        }
      ]
    }
  ]
}
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –≤—ã–≤–æ–¥ —Å –ª–æ–≥–∏–∫–æ–π

```json
{
  "quest": { /* –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–≤–µ—Å—Ç–∞ */ },
  "logic": {
    "world_state": {
      "objects": ["–º–µ—á", "—â–∏—Ç", "–∫–ª—é—á"],
      "locations": ["–∑–∞–º–æ–∫", "–ª–µ—Å", "–ø–µ—â–µ—Ä–∞"]
    },
    "actions": {
      "take_sword": {
        "preconditions": ["at(–∑–∞–º–æ–∫)", "not has(–º–µ—á)"],
        "effects": ["has(–º–µ—á)", "armed(true)"]
      }
    }
  },
  "visualization": {
    "scenes": {
      "scene_1": {
        "layout": "3d_layout.json",
        "image": "scene_1.png"
      }
    }
  }
}
```

## üîå API —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫

### REST —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

- `POST /generate` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–≤–µ—Å—Ç–∞ –∏–∑ JSON
- `POST /generate/file` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- `POST /generate/quick` - –ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- `GET /quest/{quest_id}` - –ü–æ–ª—É—á–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–≤–µ—Å—Ç
- `GET /examples` - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WebSocket

```javascript
const ws = new WebSocket('ws://localhost:8000/ws');
ws.send(JSON.stringify({
  action: 'generate',
  scenario: '–§—ç–Ω—Ç–µ–∑–∏–π–Ω–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ'
}));
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
pytest

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest --cov=src

# –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
pytest tests/unit/
pytest tests/integration/

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
python test_generation.py
python test_quest_generation.py
```

## üéÆ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∏–≥—Ä–æ–≤—ã–º–∏ –¥–≤–∏–∂–∫–∞–º–∏

### –≠–∫—Å–ø–æ—Ä—Ç Unity

```csharp
// –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Unity-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –∫–æ–¥
public class QuestManager : MonoBehaviour {
    private QuestData questData;
    
    void Start() {
        LoadQuest("quest.json");
    }
}
```

### –≠–∫—Å–ø–æ—Ä—Ç Unreal Engine

```cpp
// –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Unreal-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –∫–æ–¥
UCLASS()
class AQuestManager : public AActor {
    GENERATED_BODY()
    
public:
    void LoadQuest(const FString& QuestPath);
};
```

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è pull requests! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è —Ñ–∏—á–∏ (`git checkout -b feature/AmazingFeature`)
3. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add some AmazingFeature'`)
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ –≤–µ—Ç–∫—É (`git push origin feature/AmazingFeature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- OpenAI –∑–∞ GPT –º–æ–¥–µ–ª–∏
- Anthropic –∑–∞ –º–æ–¥–µ–ª–∏ Claude
- Story2Game —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –∑–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏–≥—Ä–æ–≤—É—é –ª–æ–≥–∏–∫—É
- SceneCraft –∑–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- Spacy –∑–∞ NLP –æ–±—Ä–∞–±–æ—Ç–∫—É

## üìß –ö–æ–Ω—Ç–∞–∫—Ç—ã

Sergey - [@Sergey-1221](https://github.com/Sergey-1221)

–°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç: [https://github.com/Sergey-1221/game-story-ai](https://github.com/Sergey-1221/game-story-ai)

---

<p align="center">
  –°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –∫–æ–º–∞–Ω–¥–æ–π Game Story AI
</p>